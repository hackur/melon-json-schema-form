{"version":3,"sources":["createReducer.js"],"names":["model","initialValue","reducers","CHANGE","state","action","next","payload","name","value","$set","deleteIn"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;yBAae,UAACA,KAAD,EAAQC,YAAR,EAAsBC,QAAtB;AAAA;;AAAA,eAAmC,8BAC9CF,KAD8C,EAE9CC,YAF8C,eAIvCC,QAJuC,6BAKzC,uBAAYC,MAL6B,cAKrBC,KALqB,EAKdC,MALc,EAKNC,IALM,EAKA;AAAA,kCAElBD,OAAOE,OAFW;AAAA,gBAEjCC,IAFiC,mBAEjCA,IAFiC;AAAA,gBAE3BC,KAF2B,mBAE3BA,KAF2B;;;AAItC,gBAAIA,UAAU,EAAd,EAAkB;AACd,uBAAO,oCAAOL,KAAP,EAAc;AACjBK,2BAAO;AACHC,8BAAM,oBAASC,QAAT,CAAkBP,MAAMK,KAAxB,EAA+BD,IAA/B;AADH;AADU,iBAAd,CAAP;AAKH;;AAED,mBAAOF,KAAKF,KAAL,EAAYC,MAAZ,CAAP;AAEH,SAnByC,cAAnC;AAAA,K","file":"createReducer.js","sourcesContent":["/**\n * @file create reducer\n * @author leon <ludafa@outlook.com>\n */\n\nimport {\n    createReducer,\n    actionTypes,\n    dataPath\n} from 'melon-form';\n\nimport update from 'react-addons-update';\n\nexport default (model, initialValue, reducers) => createReducer(\n    model,\n    initialValue,\n    {\n        ...reducers,\n        [actionTypes.CHANGE](state, action, next) {\n\n            let {name, value} = action.payload;\n\n            if (value === '') {\n                return update(state, {\n                    value: {\n                        $set: dataPath.deleteIn(state.value, name)\n                    }\n                });\n            }\n\n            return next(state, action);\n\n        }\n\n    }\n);\n"],"sourceRoot":"/source/"}