{"version":3,"sources":["util/createGetActions.js"],"names":["createUpload","getActions","upload","props","actions","customActions","name","files","dispatch","getState","startPending","then","change","value","blur","stopPending"],"mappings":";;;;;;;;;;;;;;;;YAKgBA,Y,GAAAA,Y;;sBAgBD,UAAUC,UAAV,EAAsBC,MAAtB,EAA8B;;AAEzC,eAAO,UAACC,KAAD,EAAQC,OAAR,EAAoB;;AAEvB,gBAAIC,gBAAgB,OAAOJ,UAAP,KAAsB,UAAtB,GACdA,WAAWE,KAAX,EAAkBC,OAAlB,CADc,GAEd,IAFN;;AAIA,gCACOC,aADP;AAEIH,wBAAQF,aAAaI,OAAb,EAAsBF,MAAtB;AAFZ;AAKH,SAXD;AAaH,K;;;;;;;;;;;;;;;;AApCD;;;;;AAKO,aAASF,YAAT,CAAsBI,OAAtB,EAA+BF,MAA/B,EAAuC;;AAE1C,eAAO,UAACI,IAAD,EAAOC,KAAP;AAAA,mBAAiB,UAACC,QAAD,EAAWC,QAAX,EAAwB;AAC5CD,yBAASJ,QAAQM,YAAR,CAAqBJ,IAArB,CAAT;AACA,uBAAOJ,OAAOK,MAAM,CAAN,CAAP,EAAiBI,IAAjB,CACH,iBAAS;AACLH,6BAASJ,QAAQQ,MAAR,CAAeN,IAAf,EAAqBO,KAArB,CAAT;AACAL,6BAASJ,QAAQU,IAAR,CAAaR,IAAb,CAAT;AACAE,6BAASJ,QAAQW,WAAR,CAAoBT,IAApB,CAAT;AACH,iBALE,EAMH;AAAA,2BAASE,SAASJ,QAAQW,WAAR,CAAoBT,IAApB,CAAT,CAAT;AAAA,iBANG,CAAP;AAQH,aAVM;AAAA,SAAP;AAYH","file":"createGetActions.js","sourcesContent":["/**\n * @file create `get action`\n * @author leon <ludafa@outlook.com>\n */\n\nexport function createUpload(actions, upload) {\n\n    return (name, files) => (dispatch, getState) => {\n        dispatch(actions.startPending(name));\n        return upload(files[0]).then(\n            value => {\n                dispatch(actions.change(name, value));\n                dispatch(actions.blur(name));\n                dispatch(actions.stopPending(name));\n            },\n            error => dispatch(actions.stopPending(name))\n        );\n    };\n\n}\n\nexport default function (getActions, upload) {\n\n    return (props, actions) => {\n\n        let customActions = typeof getActions === 'function'\n            ? getActions(props, actions)\n            : null;\n\n        return {\n            ...customActions,\n            upload: createUpload(actions, upload)\n        };\n\n    };\n\n}\n"]}