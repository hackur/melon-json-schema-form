{"version":3,"sources":["factory.js"],"names":["getComponent","registerComponent","setUploadHandler","getUploaderHandler","providers","schema","i","length","provider","Component","type","push","imageUploadHandler","handler"],"mappings":";;;;;;;;;;;;;;;;YAOgBA,Y,GAAAA,Y;YAcAC,iB,GAAAA,iB;YAkBAC,gB,GAAAA,gB;YAIAC,kB,GAAAA,kB;AA3ChB;;;;;AAKA,QAAMC,YAAY,EAAlB;;AAEO,aAASJ,YAAT,CAAsBK,MAAtB,EAA8B;;AAEjC,aAAK,IAAIC,IAAIF,UAAUG,MAAV,GAAmB,CAAhC,EAAmCD,KAAK,CAAxC,EAA2CA,GAA3C,EAAgD;AAC5C,gBAAME,WAAWJ,UAAUE,CAAV,CAAjB;AACA,gBAAMG,YAAYD,SAASH,MAAT,CAAlB;AACA,gBAAII,SAAJ,EAAe;AACX,uBAAOA,SAAP;AACH;AACJ;;AAED,eAAO,IAAP;AAEH;;AAEM,aAASR,iBAAT,CAA2BS,IAA3B,EAAiCD,SAAjC,EAA4C;;AAE/C,YAAI,OAAOC,IAAP,KAAgB,UAApB,EAAgC;AAC5BN,sBAAUO,IAAV,CAAeD,IAAf;AACH;;AAED,YAAI,OAAOA,IAAP,KAAgB,QAApB,EAA8B;AAC1BN,sBAAUO,IAAV,CAAe,UAAUN,MAAV,EAAkB;AAC7B,oBAAIA,OAAOK,IAAP,KAAgBA,IAApB,EAA0B;AACtB,2BAAOD,SAAP;AACH;AACJ,aAJD;AAKH;AAEJ;;AAED,QAAIG,qBAAqB,IAAzB;;AAEO,aAASV,gBAAT,CAA0BW,OAA1B,EAAmC;AACtCD,6BAAqBC,OAArB;AACH;;AAEM,aAASV,kBAAT,GAA8B;AACjC,eAAOS,kBAAP;AACH","file":"factory.js","sourcesContent":["/**\n * @file component factory\n * @author leon(ludafa@outlook.com)\n */\n\nconst providers = [];\n\nexport function getComponent(schema) {\n\n    for (let i = providers.length - 1; i >= 0; i--) {\n        const provider = providers[i];\n        const Component = provider(schema);\n        if (Component) {\n            return Component;\n        }\n    }\n\n    return null;\n\n}\n\nexport function registerComponent(type, Component) {\n\n    if (typeof type === 'function') {\n        providers.push(type);\n    }\n\n    if (typeof type === 'string') {\n        providers.push(function (schema) {\n            if (schema.type === type) {\n                return Component;\n            }\n        });\n    }\n\n}\n\nlet imageUploadHandler = null;\n\nexport function setUploadHandler(handler) {\n    imageUploadHandler = handler;\n}\n\nexport function getUploaderHandler() {\n    return imageUploadHandler;\n}\n"]}